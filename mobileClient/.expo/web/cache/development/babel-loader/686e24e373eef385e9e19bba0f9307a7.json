{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/Weiyiqi/VS_Code/Node_Test_Project/mobileClient/screens/Items.js\";\nimport React, { Fragment, useState, useEffect } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { Table, TableWrapper, Row, Rows, Col, Cols, Cell } from 'react-native-table-component';\nimport { FlatList } from \"react-native-gesture-handler\";\n\nvar Items = function Items(_ref) {\n  var navigation = _ref.navigation;\n  console.log(navigation);\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      items = _useState2[0],\n      setItems = _useState2[1];\n\n  var list = navigation.getParam('list');\n  console.log(list);\n\n  var getItems = function getItems() {\n    var response, jsonData;\n    return _regeneratorRuntime.async(function getItems$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(fetch(\"http://localhost:5000/items/\" + list.list_id, {\n              method: \"GET\"\n            }));\n\n          case 3:\n            response = _context.sent;\n            _context.next = 6;\n            return _regeneratorRuntime.awrap(response.json());\n\n          case 6:\n            jsonData = _context.sent;\n            setItems(jsonData);\n            _context.next = 13;\n            break;\n\n          case 10:\n            _context.prev = 10;\n            _context.t0 = _context[\"catch\"](0);\n            console.error(_context.t0.message);\n\n          case 13:\n            ;\n\n          case 14:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 10]], Promise);\n  };\n\n  useEffect(function () {\n    getItems();\n  }, []);\n\n  var updateItem = function updateItem(id) {\n    var deleteItem;\n    return _regeneratorRuntime.async(function updateItem$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(fetch(\"http://localhost:5000/updateitem/\" + id, {\n              method: \"PUT\"\n            }));\n\n          case 3:\n            deleteItem = _context2.sent;\n            getItems();\n            _context2.next = 10;\n            break;\n\n          case 7:\n            _context2.prev = 7;\n            _context2.t0 = _context2[\"catch\"](0);\n            console.error(_context2.t0.message);\n\n          case 10:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 7]], Promise);\n  };\n\n  var head = [\"Description\", \"Done?\", \"Update\", \"Delete\"];\n\n  var updateButton = function updateButton(item) {\n    return React.createElement(TouchableOpacity, {\n      onPress: function onPress() {\n        return updateItem(item.item_id);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }\n    }, React.createElement(View, {\n      style: styles.btn,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 11\n      }\n    }, React.createElement(Text, {\n      style: styles.btnText,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }\n    }, \"Update\")));\n  };\n\n  return React.createElement(View, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, list.description), React.createElement(Table, {\n    borderStyle: {\n      borderWidth: 2,\n      borderColor: '#c8e1ff'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }, React.createElement(Row, {\n    data: head,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }\n  }), items.map(function (item) {\n    return React.createElement(TableWrapper, {\n      key: item.item_id,\n      style: styles.row,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 25\n      }\n    }, React.createElement(Cell, {\n      data: item.description,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 25\n      }\n    }), React.createElement(Cell, {\n      data: item.done.toString(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 25\n      }\n    }), React.createElement(Cell, {\n      data: updateButton(item),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 25\n      }\n    }), React.createElement(Cell, {\n      data: \"Delete\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 25\n      }\n    }), React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 25\n      }\n    }, \"Delete\", React.createElement(Button, {\n      onPress: function onPress() {\n        return deleteList(list.list_id);\n      },\n      title: \"Delete\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 25\n      }\n    })));\n  })));\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 16,\n    paddingTop: 30,\n    backgroundColor: '#fff'\n  },\n  head: {\n    height: 40,\n    backgroundColor: '#808B97'\n  },\n  text: {\n    margin: 6\n  },\n  row: {\n    flexDirection: 'row',\n    backgroundColor: '#FFF1C1'\n  },\n  btn: {\n    width: 58,\n    height: 18,\n    backgroundColor: '#78B7BB',\n    borderRadius: 2\n  },\n  btnText: {\n    textAlign: 'center',\n    color: '#fff'\n  }\n});\nexport default Items;","map":{"version":3,"sources":["/Users/Weiyiqi/VS_Code/Node_Test_Project/mobileClient/screens/Items.js"],"names":["React","Fragment","useState","useEffect","Table","TableWrapper","Row","Rows","Col","Cols","Cell","FlatList","Items","navigation","console","log","items","setItems","list","getParam","getItems","fetch","list_id","method","response","json","jsonData","error","message","updateItem","id","deleteItem","head","updateButton","item","item_id","styles","btn","btnText","description","borderWidth","borderColor","map","row","done","toString","deleteList","StyleSheet","create","container","flex","padding","paddingTop","backgroundColor","height","text","margin","flexDirection","width","borderRadius","textAlign","color"],"mappings":"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","sourcesContent":["import React, {Fragment, useState, useEffect} from \"react\";\nimport { StyleSheet, Text, View, TextInput, Button, TouchableOpacity} from 'react-native';\nimport { Table, TableWrapper, Row, Rows, Col, Cols, Cell } from 'react-native-table-component';\nimport { FlatList } from \"react-native-gesture-handler\";\n\nconst Items=({navigation})=>{\n    console.log(navigation);\n    const [items, setItems]= useState([]);\n    const list=navigation.getParam('list');\n    console.log(list);\n    const getItems= async()=>{\n        try {\n            const response=await fetch(`http://localhost:5000/items/${list.list_id}`,{method:\"GET\"});\n            const jsonData=await response.json();\n            setItems(jsonData);\n        } catch (err) {\n            console.error(err.message);\n        };\n    };\n\n    useEffect(() => {\n        getItems();\n      }, []);\n\n      const updateItem = async id => {\n        try {\n          const deleteItem = await fetch(`http://localhost:5000/updateitem/${id}`, {\n            method: \"PUT\"\n          });\n          getItems();\n        } catch (err) {\n          console.error(err.message);\n        }\n      };\n\n\n      const head=[\"Description\", \"Done?\", \"Update\",\"Delete\"];\n\n      const updateButton = (item) =>(\n        <TouchableOpacity onPress={()=>updateItem(item.item_id)}>\n          <View style={styles.btn}>\n            <Text style={styles.btnText}>Update</Text>\n          </View>\n        </TouchableOpacity>\n    )\n\n\n    return (\n        <View>\n            <Text>{list.description}</Text>\n            <Table borderStyle={{borderWidth: 2, borderColor: '#c8e1ff'}}>\n                <Row data={head}/>\n                    {items.map((item)=>(\n                        <TableWrapper key={item.item_id} style={styles.row}>\n                         \n                        <Cell data={item.description}/>\n                        <Cell data={item.done.toString()}/>\n                        <Cell data={updateButton(item)} />\n                        <Cell data=\"Delete\"/>\n                           \n                        \n                        <Col>\n                        Delete\n                        <Button onPress={()=>deleteList(list.list_id)} title=\"Delete\"/> \n                            \n                            </Col>\n                        </TableWrapper>\n                    ))}\n                \n            </Table>\n        \n\n\n        </View>\n    )\n}\n\nconst styles = StyleSheet.create({\n    container: { flex: 1, padding: 16, paddingTop: 30, backgroundColor: '#fff' },\n    head: { height: 40, backgroundColor: '#808B97' },\n    text: { margin: 6 },\n    row: { flexDirection: 'row', backgroundColor: '#FFF1C1' },\n    btn: { width: 58, height: 18, backgroundColor: '#78B7BB',  borderRadius: 2 },\n    btnText: { textAlign: 'center', color: '#fff' }\n  });\n\nexport default Items;"]},"metadata":{},"sourceType":"module"}