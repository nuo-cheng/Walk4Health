{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/Weiyiqi/VS_Code/Node_Test_Project/mobileClient/components/Lists.js\";\nimport React, { Fragment, useState, useEffect } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport { Table, TableWrapper, Row, Rows, Col, Cols, Cell } from 'react-native-table-component';\n\nvar Lists = function Lists() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      lists = _useState2[0],\n      setLists = _useState2[1];\n\n  var deleteList = function deleteList(id) {\n    var _deleteList;\n\n    return _regeneratorRuntime.async(function deleteList$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(fetch(\"http://localhost:5000/deletelist/\" + id, {\n              method: \"DELETE\"\n            }));\n\n          case 3:\n            _deleteList = _context.sent;\n            setLists(lists.filter(function (list) {\n              return list.list_id !== id;\n            }));\n            _context.next = 10;\n            break;\n\n          case 7:\n            _context.prev = 7;\n            _context.t0 = _context[\"catch\"](0);\n            console.error(_context.t0.message);\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 7]], Promise);\n  };\n\n  var getLists = function getLists() {\n    var response, jsonData;\n    return _regeneratorRuntime.async(function getLists$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(fetch(\"http://localhost:5000/lists\"));\n\n          case 3:\n            response = _context2.sent;\n            _context2.next = 6;\n            return _regeneratorRuntime.awrap(response.json());\n\n          case 6:\n            jsonData = _context2.sent;\n            setLists(jsonData);\n            console.log(jsonData);\n            _context2.next = 14;\n            break;\n\n          case 11:\n            _context2.prev = 11;\n            _context2.t0 = _context2[\"catch\"](0);\n            console.error(_context2.t0.message);\n\n          case 14:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 11]], Promise);\n  };\n\n  useEffect(function () {\n    getLists();\n  }, []);\n  console.log(lists);\n  var head = [\"List Id\", \"Description\", \"Delete\"];\n  return React.createElement(Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, React.createElement(Table, {\n    borderStyle: {\n      borderWidth: 2,\n      borderColor: '#c8e1ff'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, React.createElement(Row, {\n    data: head,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }\n  }), lists.map(function (list) {\n    return React.createElement(TableWrapper, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 25\n      }\n    }, React.createElement(Col, {\n      data: list.list_id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 25\n      }\n    }), React.createElement(Col, {\n      data: list.description,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 25\n      }\n    }), React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 25\n      }\n    }, \"Delete\", React.createElement(Button, {\n      onPress: function onPress() {\n        return deleteList(list.list_id);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 25\n      }\n    }, \"Delete\")));\n  })));\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 16,\n    paddingTop: 30,\n    backgroundColor: '#fff'\n  },\n  head: {\n    height: 40,\n    backgroundColor: '#f1f8ff'\n  },\n  text: {\n    margin: 6\n  }\n});\nexport default Lists;","map":{"version":3,"sources":["/Users/Weiyiqi/VS_Code/Node_Test_Project/mobileClient/components/Lists.js"],"names":["React","Fragment","useState","useEffect","Table","TableWrapper","Row","Rows","Col","Cols","Cell","Lists","lists","setLists","deleteList","id","fetch","method","filter","list","list_id","console","error","message","getLists","response","json","jsonData","log","head","borderWidth","borderColor","map","description","styles","StyleSheet","create","container","flex","padding","paddingTop","backgroundColor","height","text","margin"],"mappings":"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","sourcesContent":["import React, {Fragment, useState, useEffect} from \"react\";\nimport { StyleSheet, Text, View, TextInput, Button} from 'react-native';\nimport { Table, TableWrapper, Row, Rows, Col, Cols, Cell } from 'react-native-table-component';\n\n\n// import Items from \"./Items\";\n\nconst Lists=() =>{\n    const [lists, setLists]= useState([]);\n\n    const deleteList= async id =>{\n        try{\n            const deleteList=await fetch(`http://localhost:5000/deletelist/${id}`,{\n                method: \"DELETE\"\n            });\n            \n            setLists(lists.filter(list=>list.list_id !==id));\n        }catch(err){\n            console.error(err.message);\n        }\n    }\n\n    const getLists=async()=>{\n        try{\n            const response= await fetch(\"http://localhost:5000/lists\");\n            const jsonData= await response.json();\n\n            setLists(jsonData);\n            console.log(jsonData);\n        }catch(err){\n            console.error(err.message);\n        }\n    };\n\n    useEffect(()=> {\n        getLists();\n    }, []);\n\n    console.log(lists);\n\n    const head=[\"List Id\", \"Description\", \"Delete\"];\n\n    return(\n        <Fragment>\n            <Table borderStyle={{borderWidth: 2, borderColor: '#c8e1ff'}}>\n                <Row data={head}></Row>\n                \n                    {lists.map(list=>(\n                        <TableWrapper >\n                        <Col data={list.list_id}/>    \n                        <Col data={list.description}/>\n                            \n                           \n                        \n                        <Col>\n                        Delete\n                        <Button onPress={()=>deleteList(list.list_id)}>Delete \n                            </Button>\n                            </Col>\n                            </TableWrapper>\n                    ))}\n                \n            </Table>\n        </Fragment>\n    );\n};\n\nconst styles = StyleSheet.create({\n    container: { flex: 1, padding: 16, paddingTop: 30, backgroundColor: '#fff' },\n    head: { height: 40, backgroundColor: '#f1f8ff' },\n    text: { margin: 6 }\n  });\n\nexport default Lists;"]},"metadata":{},"sourceType":"module"}