{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/Weiyiqi/VS_Code/Node_Test_Project/mobileClient/screens/Items.js\";\nimport React, { Fragment, useState, useEffect } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { Table, TableWrapper, Row, Rows, Col, Cols, Cell } from 'react-native-table-component';\nimport { FlatList } from \"react-native-gesture-handler\";\nimport CreateItem from \"../components/CreateItem\";\n\nvar Items = function Items(_ref) {\n  var navigation = _ref.navigation;\n  console.log(navigation);\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      items = _useState2[0],\n      setItems = _useState2[1];\n\n  var list = navigation.getParam('list');\n  console.log(list);\n\n  var getItems = function getItems(id) {\n    var response, jsonData;\n    return _regeneratorRuntime.async(function getItems$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(fetch(\"http://localhost:5000/items/\" + id, {\n              method: \"GET\"\n            }));\n\n          case 3:\n            response = _context.sent;\n            _context.next = 6;\n            return _regeneratorRuntime.awrap(response.json());\n\n          case 6:\n            jsonData = _context.sent;\n            setItems(jsonData);\n            _context.next = 13;\n            break;\n\n          case 10:\n            _context.prev = 10;\n            _context.t0 = _context[\"catch\"](0);\n            console.error(_context.t0.message);\n\n          case 13:\n            ;\n\n          case 14:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 10]], Promise);\n  };\n\n  useEffect(function () {\n    getItems(id);\n  }, []);\n\n  var updateItem = function updateItem(list) {\n    var _updateItem;\n\n    return _regeneratorRuntime.async(function updateItem$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(fetch(\"http://localhost:5000/updateitem/\" + list.list_id, {\n              method: \"PUT\"\n            }));\n\n          case 3:\n            _updateItem = _context2.sent;\n            getItems(list);\n            _context2.next = 10;\n            break;\n\n          case 7:\n            _context2.prev = 7;\n            _context2.t0 = _context2[\"catch\"](0);\n            console.error(_context2.t0.message);\n\n          case 10:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 7]], Promise);\n  };\n\n  var deleteItem = function deleteItem(id) {\n    var _deleteItem;\n\n    return _regeneratorRuntime.async(function deleteItem$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.prev = 0;\n            _context3.next = 3;\n            return _regeneratorRuntime.awrap(fetch(\"http://localhost:5000/deleteitem/\" + id, {\n              method: \"DELETE\"\n            }));\n\n          case 3:\n            _deleteItem = _context3.sent;\n            setItems(items.filter(function (item) {\n              return item.item_id !== id;\n            }));\n            _context3.next = 10;\n            break;\n\n          case 7:\n            _context3.prev = 7;\n            _context3.t0 = _context3[\"catch\"](0);\n            console.error(_context3.t0.message);\n\n          case 10:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, [[0, 7]], Promise);\n  };\n\n  var head = [\"Description\", \"Done?\", \"Update\", \"Delete\"];\n\n  var updateButton = function updateButton(item) {\n    return React.createElement(TouchableOpacity, {\n      onPress: function onPress() {\n        return updateItem(item.item_id);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }\n    }, React.createElement(View, {\n      style: styles.btn,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }\n    }, React.createElement(Text, {\n      style: styles.btnText,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }\n    }, \"Update\")));\n  };\n\n  var deleteButton = function deleteButton(item) {\n    return React.createElement(TouchableOpacity, {\n      onPress: function onPress() {\n        return deleteItem(item.item_id);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }\n    }, React.createElement(View, {\n      style: styles.btn,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }\n    }, React.createElement(Text, {\n      style: styles.btnText,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }\n    }, \"Delete\")));\n  };\n\n  return React.createElement(View, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, list.description), React.createElement(Table, {\n    borderStyle: {\n      borderWidth: 2,\n      borderColor: '#c8e1ff'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, React.createElement(Row, {\n    data: head,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }), items.map(function (item) {\n    return React.createElement(TableWrapper, {\n      key: item.item_id,\n      style: styles.row,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 25\n      }\n    }, React.createElement(Cell, {\n      data: item.description,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 25\n      }\n    }), React.createElement(Cell, {\n      data: item.done.toString(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 25\n      }\n    }), React.createElement(Cell, {\n      data: updateButton(item),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 25\n      }\n    }), React.createElement(Cell, {\n      data: deleteButton(item),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 25\n      }\n    }));\n  })), React.createElement(CreateItem, {\n    list: list,\n    getItems: getItems,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }));\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 16,\n    paddingTop: 30,\n    backgroundColor: '#fff'\n  },\n  head: {\n    height: 40,\n    backgroundColor: '#808B97'\n  },\n  text: {\n    margin: 6\n  },\n  row: {\n    flexDirection: 'row',\n    backgroundColor: '#FFF1C1'\n  },\n  btn: {\n    width: 58,\n    height: 18,\n    backgroundColor: '#78B7BB',\n    borderRadius: 2\n  },\n  btnText: {\n    textAlign: 'center',\n    color: '#fff'\n  }\n});\nexport default Items;","map":{"version":3,"sources":["/Users/Weiyiqi/VS_Code/Node_Test_Project/mobileClient/screens/Items.js"],"names":["React","Fragment","useState","useEffect","Table","TableWrapper","Row","Rows","Col","Cols","Cell","FlatList","CreateItem","Items","navigation","console","log","items","setItems","list","getParam","getItems","id","fetch","method","response","json","jsonData","error","message","updateItem","list_id","deleteItem","filter","item","item_id","head","updateButton","styles","btn","btnText","deleteButton","description","borderWidth","borderColor","map","row","done","toString","StyleSheet","create","container","flex","padding","paddingTop","backgroundColor","height","text","margin","flexDirection","width","borderRadius","textAlign","color"],"mappings":"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","sourcesContent":["import React, {Fragment, useState, useEffect} from \"react\";\nimport { StyleSheet, Text, View, TextInput, Button, TouchableOpacity} from 'react-native';\nimport { Table, TableWrapper, Row, Rows, Col, Cols, Cell } from 'react-native-table-component';\nimport { FlatList } from \"react-native-gesture-handler\";\nimport CreateItem from \"../components/CreateItem\";\n\nconst Items=({navigation})=>{\n    console.log(navigation);\n    const [items, setItems]= useState([]);\n    const list=navigation.getParam('list');\n    console.log(list);\n    const getItems= async(id)=>{\n        try {\n            const response=await fetch(`http://localhost:5000/items/${id}`,{method:\"GET\"});\n            const jsonData=await response.json();\n            setItems(jsonData);\n        } catch (err) {\n            console.error(err.message);\n        };\n    };\n\n    useEffect(() => {\n        getItems(id);\n      }, []);\n\n      const updateItem = async list => {\n        try {\n          const updateItem = await fetch(`http://localhost:5000/updateitem/${list.list_id}`, {\n            method: \"PUT\"\n          });\n          getItems(list);\n        } catch (err) {\n          console.error(err.message);\n        }\n      };\n\n      const deleteItem = async id => {\n        try {\n          const deleteItem = await fetch(`http://localhost:5000/deleteitem/${id}`, {\n            method: \"DELETE\"\n          });\n    \n          setItems(items.filter(item => item.item_id !== id));\n        } catch (err) {\n          console.error(err.message);\n        }\n      };\n\n      const head=[\"Description\", \"Done?\", \"Update\",\"Delete\"];\n\n      const updateButton = (item) =>(\n        <TouchableOpacity onPress={()=>updateItem(item.item_id)}>\n          <View style={styles.btn}>\n            <Text style={styles.btnText}>Update</Text>\n          </View>\n        </TouchableOpacity>\n    )\n\n    const deleteButton = (item) =>(\n        <TouchableOpacity onPress={()=>deleteItem(item.item_id)}>\n          <View style={styles.btn}>\n            <Text style={styles.btnText}>Delete</Text>\n          </View>\n        </TouchableOpacity>\n    )\n\n    return (\n        <View>\n            <Text>{list.description}</Text>\n            <Table borderStyle={{borderWidth: 2, borderColor: '#c8e1ff'}}>\n                <Row data={head}/>\n                    {items.map((item)=>(\n                        <TableWrapper key={item.item_id} style={styles.row}>\n                         \n                        <Cell data={item.description}/>\n                        <Cell data={item.done.toString()}/>\n                        <Cell data={updateButton(item)} />\n                        <Cell data={deleteButton(item)}/>\n                           \n                        \n                \n                        </TableWrapper>\n                    ))}\n                \n            </Table>\n        \n            <CreateItem list={list} getItems={getItems}/>\n\n\n        </View>\n    )\n}\n\nconst styles = StyleSheet.create({\n    container: { flex: 1, padding: 16, paddingTop: 30, backgroundColor: '#fff' },\n    head: { height: 40, backgroundColor: '#808B97' },\n    text: { margin: 6 },\n    row: { flexDirection: 'row', backgroundColor: '#FFF1C1' },\n    btn: { width: 58, height: 18, backgroundColor: '#78B7BB',  borderRadius: 2 },\n    btnText: { textAlign: 'center', color: '#fff' }\n  });\n\nexport default Items;"]},"metadata":{},"sourceType":"module"}