{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/Weiyiqi/VS_Code/Node_Test_Project/mobileClient/components/Lists.js\";\nimport React, { Fragment, useEffect, useState } from \"react\";\nimport Items from \"./Items\";\n\nvar Lists = function Lists() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      lists = _useState2[0],\n      setLists = _useState2[1];\n\n  var deleteList = function deleteList(id) {\n    var _deleteList;\n\n    return _regeneratorRuntime.async(function deleteList$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(fetch(\"http://localhost:5000/deletelist/\" + id, {\n              method: \"DELETE\"\n            }));\n\n          case 3:\n            _deleteList = _context.sent;\n            setLists(lists.filter(function (list) {\n              return list.list_id !== id;\n            }));\n            _context.next = 10;\n            break;\n\n          case 7:\n            _context.prev = 7;\n            _context.t0 = _context[\"catch\"](0);\n            console.error(_context.t0.message);\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 7]], Promise);\n  };\n\n  var getLists = function getLists() {\n    var response, jsonData;\n    return _regeneratorRuntime.async(function getLists$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(fetch(\"http://localhost:5000/lists\"));\n\n          case 3:\n            response = _context2.sent;\n            _context2.next = 6;\n            return _regeneratorRuntime.awrap(response.json());\n\n          case 6:\n            jsonData = _context2.sent;\n            setLists(jsonData);\n            console.log(jsonData);\n            _context2.next = 14;\n            break;\n\n          case 11:\n            _context2.prev = 11;\n            _context2.t0 = _context2[\"catch\"](0);\n            console.error(_context2.t0.message);\n\n          case 14:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 11]], Promise);\n  };\n\n  useEffect(function () {\n    getLists();\n  }, []);\n  console.log(lists);\n  return React.createElement(Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }, \"\", React.createElement(\"table\", {\n    className: \"table mt-5 text-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }\n  }, React.createElement(\"thead\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 17\n    }\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 21\n    }\n  }, React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 25\n    }\n  }, \"List Id\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 25\n    }\n  }, \"Description\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 25\n    }\n  }, \"Delete\"))), React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }\n  }, lists.map(function (list) {\n    return React.createElement(\"tr\", {\n      key: list.list_id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 25\n      }\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 29\n      }\n    }, list.list_id), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 25\n      }\n    }, React.createElement(Items, {\n      list: list,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 29\n      }\n    })), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 25\n      }\n    }, React.createElement(\"button\", {\n      className: \"btn btn-danger\",\n      onClick: function onClick() {\n        return deleteList(list.list_id);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 29\n      }\n    }, \"Delete\")));\n  }))));\n};\n\nexport default Lists;","map":{"version":3,"sources":["/Users/Weiyiqi/VS_Code/Node_Test_Project/mobileClient/components/Lists.js"],"names":["React","Fragment","useEffect","useState","Items","Lists","lists","setLists","deleteList","id","fetch","method","filter","list","list_id","console","error","message","getLists","response","json","jsonData","log","map"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,EAAoCC,QAApC,QAAmD,OAAnD;AAEA,OAAOC,KAAP;;AAEA,IAAMC,KAAK,GAAC,SAANA,KAAM,GAAK;AAAA,kBACYF,QAAQ,CAAC,EAAD,CADpB;AAAA;AAAA,MACNG,KADM;AAAA,MACCC,QADD;;AAGb,MAAMC,UAAU,GAAE,SAAZA,UAAY,CAAMC,EAAN;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAEaC,KAAK,uCAAqCD,EAArC,EAA0C;AAClEE,cAAAA,MAAM,EAAE;AAD0D,aAA1C,CAFlB;;AAAA;AAEJH,YAAAA,WAFI;AAMVD,YAAAA,QAAQ,CAACD,KAAK,CAACM,MAAN,CAAa,UAAAC,IAAI;AAAA,qBAAEA,IAAI,CAACC,OAAL,KAAgBL,EAAlB;AAAA,aAAjB,CAAD,CAAR;AANU;AAAA;;AAAA;AAAA;AAAA;AAQVM,YAAAA,OAAO,CAACC,KAAR,CAAc,YAAIC,OAAlB;;AARU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAlB;;AAYA,MAAMC,QAAQ,GAAC,SAATA,QAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAEeR,KAAK,CAAC,6BAAD,CAFpB;;AAAA;AAEDS,YAAAA,QAFC;AAAA;AAAA,6CAGeA,QAAQ,CAACC,IAAT,EAHf;;AAAA;AAGDC,YAAAA,QAHC;AAKPd,YAAAA,QAAQ,CAACc,QAAD,CAAR;AACAN,YAAAA,OAAO,CAACO,GAAR,CAAYD,QAAZ;AANO;AAAA;;AAAA;AAAA;AAAA;AAQPN,YAAAA,OAAO,CAACC,KAAR,CAAc,aAAIC,OAAlB;;AARO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAf;;AAYAf,EAAAA,SAAS,CAAC,YAAK;AACXgB,IAAAA,QAAQ;AACX,GAFQ,EAEN,EAFM,CAAT;AAIAH,EAAAA,OAAO,CAACO,GAAR,CAAYhB,KAAZ;AACA,SACI,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACK,EADL,EAEI;AAAO,IAAA,SAAS,EAAC,wBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAFJ,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJJ,CADJ,CADJ,EASI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKA,KAAK,CAACiB,GAAN,CAAU,UAAAV,IAAI;AAAA,WACX;AAAI,MAAA,GAAG,EAAEA,IAAI,CAACC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKD,IAAI,CAACC,OADV,CADJ,EAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEI,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAED,IAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CALA,EAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAI;AAAQ,MAAA,SAAS,EAAC,gBAAlB;AAAmC,MAAA,OAAO,EAAE;AAAA,eAAIL,UAAU,CAACK,IAAI,CAACC,OAAN,CAAd;AAAA,OAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAJ,CAVA,CADW;AAAA,GAAd,CADL,CATJ,CAFJ,CADJ;AAiCH,CAjED;;AAmEA,eAAeT,KAAf","sourcesContent":["import React, {Fragment, useEffect, useState} from \"react\";\n\nimport Items from \"./Items\";\n\nconst Lists=() =>{\n    const [lists, setLists]= useState([]);\n\n    const deleteList= async id =>{\n        try{\n            const deleteList=await fetch(`http://localhost:5000/deletelist/${id}`,{\n                method: \"DELETE\"\n            });\n            \n            setLists(lists.filter(list=>list.list_id !==id));\n        }catch(err){\n            console.error(err.message);\n        }\n    }\n\n    const getLists=async()=>{\n        try{\n            const response= await fetch(\"http://localhost:5000/lists\");\n            const jsonData= await response.json();\n\n            setLists(jsonData);\n            console.log(jsonData);\n        }catch(err){\n            console.error(err.message);\n        }\n    };\n\n    useEffect(()=> {\n        getLists();\n    }, []);\n\n    console.log(lists);\n    return(\n        <Fragment>\n            {\"\"}\n            <table className=\"table mt-5 text-center\">\n                <thead>\n                    <tr>\n                        <th>List Id</th>\n                        <th>Description</th>\n                        \n                        <th>Delete</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {lists.map(list=>(\n                        <tr key={list.list_id}>\n                            <td>\n                                {list.list_id}\n                            </td>\n\n                        <td>\n                            \n                            <Items list={list} />\n                        </td>\n                        \n                        <td><button className=\"btn btn-danger\" onClick={()=>deleteList(list.list_id)}>Delete \n                            </button>\n                            </td>\n                        </tr>\n                    ))}\n                </tbody>\n            </table>\n        </Fragment>\n    );\n};\n\nexport default Lists;"]},"metadata":{},"sourceType":"module"}