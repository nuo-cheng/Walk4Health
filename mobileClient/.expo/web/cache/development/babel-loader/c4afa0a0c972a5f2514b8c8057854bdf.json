{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/Weiyiqi/VS_Code/Node_Test_Project/mobileClient/components/Items.js\";\nimport React, { Fragment, useState, useEffect } from \"react\";\n\nvar Items = function Items(_ref) {\n  var list = _ref.list;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      items = _useState2[0],\n      setItems = _useState2[1];\n\n  var getItems = function getItems() {\n    var response, jsonData;\n    return _regeneratorRuntime.async(function getItems$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(fetch(\"http://localhost:5000/items/\" + list.list_id, {\n              method: \"GET\"\n            }));\n\n          case 3:\n            response = _context.sent;\n            _context.next = 6;\n            return _regeneratorRuntime.awrap(response.json());\n\n          case 6:\n            jsonData = _context.sent;\n            setItems(jsonData);\n            _context.next = 13;\n            break;\n\n          case 10:\n            _context.prev = 10;\n            _context.t0 = _context[\"catch\"](0);\n            console.error(_context.t0.message);\n\n          case 13:\n            ;\n\n          case 14:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 10]], Promise);\n  };\n\n  useEffect(function () {\n    getItems();\n  }, []);\n\n  var deleteItem = function deleteItem(id) {\n    var _deleteItem;\n\n    return _regeneratorRuntime.async(function deleteItem$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(fetch(\"http://localhost:5000/deleteitem/\" + id, {\n              method: \"DELETE\"\n            }));\n\n          case 3:\n            _deleteItem = _context2.sent;\n            setItems(items.filter(function (item) {\n              return item.item_id !== id;\n            }));\n            _context2.next = 10;\n            break;\n\n          case 7:\n            _context2.prev = 7;\n            _context2.t0 = _context2[\"catch\"](0);\n            console.error(_context2.t0.message);\n\n          case 10:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 7]], Promise);\n  };\n\n  var updateItem = function updateItem(id) {\n    var _deleteItem2;\n\n    return _regeneratorRuntime.async(function updateItem$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.prev = 0;\n            _context3.next = 3;\n            return _regeneratorRuntime.awrap(fetch(\"http://localhost:5000/updateitem/\" + id, {\n              method: \"PUT\"\n            }));\n\n          case 3:\n            _deleteItem2 = _context3.sent;\n            getItems();\n            _context3.next = 10;\n            break;\n\n          case 7:\n            _context3.prev = 7;\n            _context3.t0 = _context3[\"catch\"](0);\n            console.error(_context3.t0.message);\n\n          case 10:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, [[0, 7]], Promise);\n  };\n\n  return React.createElement(Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }, React.createElement(\"button\", {\n    type: \"button\",\n    class: \"btn btn-warning\",\n    \"data-toggle\": \"modal\",\n    \"data-target\": \"#id\" + list.list_id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }, list.description), React.createElement(\"div\", {\n    class: \"modal\",\n    id: \"id\" + list.list_id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, React.createElement(\"div\", {\n    class: \"modal-dialog\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, React.createElement(\"div\", {\n    class: \"modal-content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }, React.createElement(\"div\", {\n    class: \"modal-header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, React.createElement(\"h4\", {\n    class: \"modal-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 15\n    }\n  }, \"Items\"), React.createElement(\"button\", {\n    type: \"button\",\n    class: \"close\",\n    \"data-dismiss\": \"modal\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 15\n    }\n  }, \"\\xD7\")), React.createElement(\"div\", {\n    class: \"modal-body\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }, React.createElement(\"table\", {\n    className: \"table mt-5 text-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  }, React.createElement(\"thead\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 21\n    }\n  }, React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 25\n    }\n  }, \"Description\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 25\n    }\n  }, \"Done?\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 25\n    }\n  }, \"Upgrade\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 25\n    }\n  }, \"Delete\"))), React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 21\n    }\n  }, items.map(function (item) {\n    return React.createElement(\"tr\", {\n      key: item.item_id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 25\n      }\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 25\n      }\n    }, item.description), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 25\n      }\n    }, item.done.toString()), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 25\n      }\n    }, React.createElement(\"button\", {\n      className: \"btn btn-danger\",\n      onClick: function onClick() {\n        return updateItem(item.item_id);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 25\n      }\n    }, \"Update\")), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 25\n      }\n    }, React.createElement(\"button\", {\n      className: \"btn btn-danger\",\n      onClick: function onClick() {\n        return deleteItem(item.item_id);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 25\n      }\n    }, \"Delete\")));\n  }))))))));\n};\n\nexport default Items;","map":{"version":3,"sources":["/Users/Weiyiqi/VS_Code/Node_Test_Project/mobileClient/components/Items.js"],"names":["React","Fragment","useState","useEffect","Items","list","items","setItems","getItems","fetch","list_id","method","response","json","jsonData","console","error","message","deleteItem","id","filter","item","item_id","updateItem","description","map","done","toString"],"mappings":"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","sourcesContent":["import React, { Fragment, useState, useEffect } from \"react\";\n\nconst Items=({list})=>{\n    const [items, setItems]=useState([]);\nconst getItems= async()=>{\n    try {\n        const response=await fetch(`http://localhost:5000/items/${list.list_id}`,{method:\"GET\"});\n        const jsonData=await response.json();\n        setItems(jsonData);\n    } catch (err) {\n        console.error(err.message);\n    };\n};\n\nuseEffect(() => {\n    getItems();\n  }, []);\n\n  const deleteItem = async id => {\n    try {\n      const deleteItem = await fetch(`http://localhost:5000/deleteitem/${id}`, {\n        method: \"DELETE\"\n      });\n\n      setItems(items.filter(item => item.item_id !== id));\n    } catch (err) {\n      console.error(err.message);\n    }\n  };\n\n  const updateItem = async id => {\n    try {\n      const deleteItem = await fetch(`http://localhost:5000/updateitem/${id}`, {\n        method: \"PUT\"\n      });\n      getItems();\n    } catch (err) {\n      console.error(err.message);\n    }\n  };\n\n\nreturn (\n    <Fragment>\n      <button\n        type=\"button\"\n        class=\"btn btn-warning\"\n        data-toggle=\"modal\"\n        data-target={`#id${list.list_id}`}\n      >\n        {list.description}\n      </button>\n\n      {/* \n        id = id10\n      */}\n      <div\n        class=\"modal\"\n        id={`id${list.list_id}`}\n        // onClick={() => setDescription(todo.description)}\n      >\n        <div class=\"modal-dialog\">\n          <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <h4 class=\"modal-title\">Items</h4>\n              <button\n                type=\"button\"\n                class=\"close\"\n                data-dismiss=\"modal\"\n              >\n                &times;\n              </button>\n            </div>\n\n            <div class=\"modal-body\">\n              {/* <input\n                type=\"text\"\n                className=\"form-control\"\n                value={description}\n                onChange={e => setDescription(e.target.value)}\n              /> */}\n                <table className=\"table mt-5 text-center\">\n                <thead>\n                    <tr>\n                        <th>Description</th>\n                        <th>Done?</th>\n                        <th>Upgrade</th>\n                        <th>Delete</th>\n                    </tr>\n                </thead>\n                    <tbody>\n                        \n                    {items.map(item=>(\n                        <tr key={item.item_id}>\n                        <td>\n                            {item.description}\n                        </td>\n                        \n                        <td>\n                            {item.done.toString()}\n                        </td>\n\n                        <td>\n                        <button\n                  className=\"btn btn-danger\"\n                  onClick={() => updateItem(item.item_id)}\n                >\n                  Update\n                </button>\n                        </td>\n                        <td>\n                        <button\n                  className=\"btn btn-danger\"\n                  onClick={() => deleteItem(item.item_id)}\n                >\n                  Delete\n                </button>\n                        </td>\n                \n                        </tr>\n                    ))}\n\n                    </tbody>\n\n                \n                </table>\n            </div>\n\n          </div>\n        </div>\n      </div>\n    </Fragment>\n  );\n};\nexport default Items;"]},"metadata":{},"sourceType":"module"}