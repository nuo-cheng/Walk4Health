{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/Weiyiqi/VS_Code/Node_Test_Project/mobileClient/components/Lists.js\";\nimport React, { Fragment, useState, useEffect } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { Table, TableWrapper, Row, Rows, Col, Cols, Cell } from 'react-native-table-component';\nimport { FlatList } from \"react-native-gesture-handler\";\nimport { render } from \"react-dom\";\n\nvar Lists = function Lists(navigation) {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      lists = _useState2[0],\n      setLists = _useState2[1];\n\n  var deleteList = function deleteList(id) {\n    var _deleteList;\n\n    return _regeneratorRuntime.async(function deleteList$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(fetch(\"http://localhost:5000/deletelist/\" + id, {\n              method: \"DELETE\"\n            }));\n\n          case 3:\n            _deleteList = _context.sent;\n            setLists(lists.filter(function (list) {\n              return list.list_id !== id;\n            }));\n            _context.next = 10;\n            break;\n\n          case 7:\n            _context.prev = 7;\n            _context.t0 = _context[\"catch\"](0);\n            console.error(_context.t0.message);\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 7]], Promise);\n  };\n\n  var getLists = function getLists() {\n    var response, jsonData;\n    return _regeneratorRuntime.async(function getLists$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(fetch(\"http://localhost:5000/lists\"));\n\n          case 3:\n            response = _context2.sent;\n            _context2.next = 6;\n            return _regeneratorRuntime.awrap(response.json());\n\n          case 6:\n            jsonData = _context2.sent;\n            setLists(jsonData);\n            console.log(jsonData);\n            _context2.next = 14;\n            break;\n\n          case 11:\n            _context2.prev = 11;\n            _context2.t0 = _context2[\"catch\"](0);\n            console.error(_context2.t0.message);\n\n          case 14:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 11]], Promise);\n  };\n\n  useEffect(function () {\n    getLists();\n  }, []);\n  console.log(lists);\n  var head = [\"List Id\", \"Description\", \"Delete\"];\n\n  var deleteButton = function deleteButton(list_id) {\n    return React.createElement(TouchableOpacity, {\n      onPress: function onPress() {\n        return deleteList(list_id);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }\n    }, React.createElement(View, {\n      style: styles.btn,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }\n    }, React.createElement(Text, {\n      style: styles.btnText,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 13\n      }\n    }, \"Delete\")));\n  };\n\n  var listLink = function listLink(list) {\n    return React.createElement(TouchableOpacity, {\n      onPress: function onPress() {\n        return navigation.navigate('Items', {\n          list: list\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }\n    }, React.createElement(View, {\n      style: styles.btn,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }\n    }, React.createElement(Text, {\n      style: styles.btnText,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }\n    }, list.description)));\n  };\n\n  return React.createElement(View, {\n    style: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, React.createElement(Table, {\n    borderStyle: {\n      borderWidth: 2,\n      borderColor: '#c8e1ff'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, React.createElement(Row, {\n    data: head,\n    style: styles.head,\n    textStyle: styles.text,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }), lists.map(function (list) {\n    return React.createElement(TableWrapper, {\n      key: list.list_id,\n      flexArr: [1, 1, 2],\n      style: styles.row,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 25\n      }\n    }, React.createElement(Cell, {\n      data: list.list_id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 25\n      }\n    }), React.createElement(Cell, {\n      data: listLink(list),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 25\n      }\n    }), React.createElement(Cell, {\n      textStyle: styles.text,\n      data: deleteButton(list.list_id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 25\n      }\n    }));\n  })));\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 16,\n    paddingTop: 30,\n    backgroundColor: '#fff'\n  },\n  head: {\n    height: 40,\n    backgroundColor: '#808B97'\n  },\n  text: {\n    margin: 6\n  },\n  row: {\n    flexDirection: 'row',\n    backgroundColor: '#FFF1C1'\n  },\n  btn: {\n    width: 58,\n    height: 18,\n    backgroundColor: '#78B7BB',\n    borderRadius: 2\n  },\n  btnText: {\n    textAlign: 'center',\n    color: '#fff'\n  }\n});\nexport default Lists;","map":{"version":3,"sources":["/Users/Weiyiqi/VS_Code/Node_Test_Project/mobileClient/components/Lists.js"],"names":["React","Fragment","useState","useEffect","Table","TableWrapper","Row","Rows","Col","Cols","Cell","FlatList","render","Lists","navigation","lists","setLists","deleteList","id","fetch","method","filter","list","list_id","console","error","message","getLists","response","json","jsonData","log","head","deleteButton","styles","btn","btnText","listLink","navigate","description","container","borderWidth","borderColor","text","map","row","StyleSheet","create","flex","padding","paddingTop","backgroundColor","height","margin","flexDirection","width","borderRadius","textAlign","color"],"mappings":"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","sourcesContent":["import React, {Fragment, useState, useEffect} from \"react\";\nimport { StyleSheet, Text, View, TextInput, Button, TouchableOpacity} from 'react-native';\nimport { Table, TableWrapper, Row, Rows, Col, Cols, Cell } from 'react-native-table-component';\nimport { FlatList } from \"react-native-gesture-handler\";\nimport { render } from \"react-dom\";\n\n\n// import Items from \"./Items\";\n\nconst Lists=(navigation) =>{\n    const [lists, setLists]= useState([]);\n\n    const deleteList= async id =>{\n        try{\n            const deleteList=await fetch(`http://localhost:5000/deletelist/${id}`,{\n                method: \"DELETE\"\n            });\n            \n            setLists(lists.filter(list=>list.list_id !==id));\n        }catch(err){\n            console.error(err.message);\n        }\n    }\n\n    \n\n    const getLists=async()=>{\n        try{\n            const response= await fetch(\"http://localhost:5000/lists\");\n            const jsonData= await response.json();\n\n            setLists(jsonData);\n            console.log(jsonData);\n        }catch(err){\n            console.error(err.message);\n        }\n    };\n\n    useEffect(()=> {\n        getLists();\n    }, []);\n\n    console.log(lists);\n\n    const head=[\"List Id\", \"Description\", \"Delete\"];\n\n    const deleteButton = (list_id) => (\n        <TouchableOpacity onPress={()=>deleteList(list_id)}>\n          <View style={styles.btn}>\n            <Text style={styles.btnText}>Delete</Text>\n          </View>\n        </TouchableOpacity>\n      );\n\n    const listLink = (list) =>(\n        <TouchableOpacity onPress={()=>navigation.navigate('Items', {list:list})}>\n          <View style={styles.btn}>\n            <Text style={styles.btnText}>{list.description}</Text>\n          </View>\n        </TouchableOpacity>\n    )\n\n\n    return(\n        <View style={styles.container}>\n            <Table borderStyle={{borderWidth: 2, borderColor: '#c8e1ff'}}>\n                <Row data={head} style={styles.head}  textStyle={styles.text}></Row>\n                \n                    {lists.map((list)=>(\n                        <TableWrapper key={list.list_id} flexArr={[1, 1, 2]} style={styles.row}>\n                        <Cell data={list.list_id}/>    \n                        <Cell data={listLink(list)}/>\n                        \n                           \n                        \n                        <Cell textStyle={styles.text}\n                        data={deleteButton(list.list_id)}/>\n                        \n                            \n                        </TableWrapper>\n                    ))}\n                \n            </Table>\n        </View>\n    );\n};\n\nconst styles = StyleSheet.create({\n    container: { flex: 1, padding: 16, paddingTop: 30, backgroundColor: '#fff' },\n    head: { height: 40, backgroundColor: '#808B97' },\n    text: { margin: 6 },\n    row: { flexDirection: 'row', backgroundColor: '#FFF1C1' },\n    btn: { width: 58, height: 18, backgroundColor: '#78B7BB',  borderRadius: 2 },\n    btnText: { textAlign: 'center', color: '#fff' }\n  });\n\nexport default Lists;"]},"metadata":{},"sourceType":"module"}